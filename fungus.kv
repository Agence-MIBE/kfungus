#:kivy 1.8.0

<TetroGrid>:
	size_hint: None, None

<GridBlock>:
	sprite: sprite
	grid_background: grid_background
	Image:
		id: grid_background
		pos: self.parent.pos
		source: 'Grid/block.png'
	Image:
		id: sprite
		pos: self.parent.pos
		source: 'blank.png'

<GameGridView>:
	do_rotation: False
	size_hint: None, None
	center: self.parent.center
	#canvas.after:
	#	Color:
	#		rgba: 1, 0, 0, 0.5
	#	Rectangle:
	#		size: self.size
	#		pos: self.pos

<VertLine>:
	size_hint_x: None
	width: 4
	canvas:
		Rectangle:
			pos: self.pos
			size: self.size

<HorizLine>:
	size_hint_y: None
	height: 4
	canvas:
		Rectangle:
			pos: self.pos
			size: self.size

<Ghost>:
	ghost_grid: ghost_grid
	do_rotation: False
	auto_bring_to_front: True
	size_hint: None, None
	size: ghost_grid.size
	TetroGrid:
		id: ghost_grid

<NewPieceBox>:
	size_hint_x: None
	size_hint_y: None
	width: 100
	height: 100
	#center: self.parent.center
	canvas:
		Line:
			points: [self.x,self.y, self.x+self.width,self.y, self.x+self.width,self.y+self.height, self.x,self.y+self.height, self.x,self.y]

<PlayerWidget>:
	#new_piece_box: new_piece_box
	new_piece_grid: new_piece_grid
	name_label: name_label
	orientation: 'vertical'
	#size_hint_y: None
	#height: 320
	Label:
		id: name_label
		center_x: self.parent.center_x
		y: self.parent.top - self.height
		text: 'Algae'
	#NewPieceBox:
	#	id: new_piece_box
	TetroGrid:
		id: new_piece_grid
		center: self.parent.center
	Label:
		center_x: self.parent.center_x
		y: self.parent.y
		text: 'Bites: 0'

<FungusGame>:
	side_panel: side_panel
	ggview: ggview
	new_piece_box: new_piece_box
	BoxLayout:
		orientation: 'horizontal'
		BoxLayout:
			id: side_panel
			orientation: 'vertical'
			size_hint_x: None
			width: 320
		VertLine:
		StencilView:
			GameGridView:
				id: ggview
	NewPieceBox:
		id: new_piece_box
